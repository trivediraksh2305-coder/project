<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Bookings - HomeServe</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Reset & Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary: #7e22ce;
      --accent: #f97316;
      --text: #1f2937;
      --text-light: #6b7280;
      --background: #f9fafb;
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
    }

    body {
      font-family: 'Inter', sans-serif;
      color: var(--text);
      line-height: 1.6;
      background-color: var(--background);
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background: var(--card-bg);
      padding: 15px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo i {
      font-size: 26px;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 30px;
    }

    nav ul li a {
      text-decoration: none;
      color: var(--text);
      font-size: 16px;
      font-weight: 500;
      transition: color 0.3s;
      position: relative;
    }

    nav ul li a:hover {
      color: var(--primary);
    }

    nav ul li a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: var(--primary);
      transition: width 0.3s;
    }

    nav ul li a:hover::after {
      width: 100%;
    }

    .login-btn {
      background: var(--primary);
      color: #fff;
      padding: 10px 22px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 500;
      transition: background 0.3s, transform 0.2s;
    }

    .login-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text);
    }

    /* Page Header */
    .page-header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      text-align: center;
      padding: 60px 20px;
      position: relative;
      overflow: hidden;
    }

    .page-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.5;
    }

    .page-header-content {
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .page-header h1 {
      font-size: 36px;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .breadcrumb {
      display: flex;
      justify-content: center;
      list-style: none;
      gap: 10px;
      font-size: 16px;
    }

    .breadcrumb li {
      display: flex;
      align-items: center;
    }

    .breadcrumb li:not(:last-child)::after {
      content: '/';
      margin-left: 10px;
      color: rgba(255, 255, 255, 0.7);
    }

    .breadcrumb a {
      color: white;
      text-decoration: none;
      transition: opacity 0.3s;
    }

    .breadcrumb a:hover {
      opacity: 0.8;
    }

    /* Bookings Section */
    .bookings-section {
      padding: 50px 0;
    }

    .section-title {
      text-align: center;
      font-size: 32px;
      margin-bottom: 30px;
      font-weight: 700;
      color: var(--text);
      position: relative;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 4px;
      background: var(--primary);
      border-radius: 2px;
    }

    /* Filters */
    .bookings-filters {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .search-box {
      display: flex;
      align-items: center;
      background: white;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0 15px;
      flex: 1;
      max-width: 400px;
    }

    .search-box input {
      padding: 12px;
      border: none;
      width: 100%;
      font-size: 16px;
      outline: none;
    }

    .filter-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .filter-select {
      padding: 12px 15px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: white;
      font-size: 16px;
      cursor: pointer;
      outline: none;
    }

    /* Bookings List */
    .bookings-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .booking-card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      padding: 25px;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .booking-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    }

    .booking-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .booking-info h3 {
      font-size: 20px;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .booking-id {
      color: var(--text-light);
      font-size: 14px;
    }

    .booking-status {
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
    }

    .status-upcoming {
      background: rgba(59, 130, 246, 0.1);
      color: var(--primary);
    }

    .status-completed {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .status-cancelled {
      background: rgba(239, 68, 68, 0.1);
      color: var(--error);
    }

    .status-inprogress {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }

    .booking-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
    }

    .detail-label {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 5px;
    }

    .detail-value {
      font-weight: 500;
    }

    .professional-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .professional-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
    }

    .professional-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .professional-name {
      font-weight: 500;
    }

    .professional-rating {
      display: flex;
      align-items: center;
      gap: 5px;
      color: var(--warning);
      font-size: 14px;
    }

    .booking-actions {
      display: flex;
      gap: 15px;
      justify-content: flex-end;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .action-btn {
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      font-size: 14px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
    }

    .btn-outline {
      background: transparent;
      color: var(--primary);
      border: 1px solid var(--primary);
    }

    .btn-outline:hover {
      background: var(--primary);
      color: white;
    }

    .btn-danger {
      background: transparent;
      color: var(--error);
      border: 1px solid var(--error);
    }

    .btn-danger:hover {
      background: var(--error);
      color: white;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }

    .empty-icon {
      font-size: 60px;
      color: var(--text-light);
      margin-bottom: 20px;
    }

    .empty-title {
      font-size: 24px;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .empty-desc {
      color: var(--text-light);
      margin-bottom: 30px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Footer */
    footer {
      background: #0f172a;
      color: #fff;
      padding: 70px 0 30px;
      width: 100vw;
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
      margin-top: 50px;
    }

    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .footer-col h3 {
      font-size: 20px;
      margin-bottom: 25px;
      position: relative;
      padding-bottom: 10px;
    }

    .footer-col h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background: var(--primary);
    }

    .footer-col p {
      margin-bottom: 20px;
      color: #cbd5e1;
      line-height: 1.8;
    }

    .footer-col ul {
      list-style: none;
    }

    .footer-col ul li {
      margin: 15px 0;
    }

    .footer-col ul li a {
      text-decoration: none;
      color: #cbd5e1;
      transition: 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .footer-col ul li a:hover {
      color: white;
      padding-left: 5px;
    }

    .footer-col .social-links {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .footer-col .social-links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      color: white;
      transition: 0.3s;
    }

    .footer-col .social-links a:hover {
      background: var(--primary);
      transform: translateY(-3px);
    }

    .copyright {
      text-align: center;
      padding-top: 30px;
      margin-top: 50px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: #94a3b8;
      font-size: 14px;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      padding-left: 20px;
      padding-right: 20px;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .modal-title {
      font-size: 24px;
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-light);
    }

    .modal-body {
      margin-bottom: 30px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 15px;
    }

    /* Rating Modal */
    .rating-stars {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
      font-size: 32px;
      color: #ddd;
    }

    .rating-star {
      cursor: pointer;
      transition: color 0.3s;
    }

    .rating-star:hover,
    .rating-star.active {
      color: #ffc107;
    }

    /* Responsive Design */
    @media (max-width: 992px) {
      .booking-details {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .header-container {
        padding: 0 15px;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      nav {
        position: fixed;
        top: 70px;
        left: -100%;
        width: 100%;
        height: calc(100vh - 70px);
        background: var(--card-bg);
        transition: 0.3s;
        z-index: 999;
      }
      
      nav.active {
        left: 0;
      }
      
      nav ul {
        flex-direction: column;
        padding: 30px;
        gap: 20px;
      }
      
      .page-header h1 {
        font-size: 32px;
      }
      
      .bookings-filters {
        flex-direction: column;
        align-items: stretch;
      }
      
      .search-box {
        max-width: 100%;
      }
      
      .booking-header {
        flex-direction: column;
      }
      
      .booking-actions {
        justify-content: stretch;
      }
      
      .action-btn {
        flex: 1;
        text-align: center;
      }
    }

    @media (max-width: 576px) {
      .page-header h1 {
        font-size: 28px;
      }
      
      .section-title {
        font-size: 26px;
      }
      
      .booking-details {
        grid-template-columns: 1fr;
      }
      
      .filter-group {
        flex-direction: column;
      }
      
      .filter-select {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="header-container">
      <div class="logo">
        <i class="fas fa-home"></i>
        <span>HomeServe</span>
      </div>
      
      <button class="mobile-menu-btn">
        <i class="fas fa-bars"></i>
      </button>
      
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="mybooking.html" class="active">My Bookings</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
      <a href="login.html"><button class="login-btn">Login</button></a>
    </div>
  </header>

  <!-- Page Header -->
  <section class="page-header">
    <div class="page-header-content">
      <h1>My Bookings</h1>
      <ul class="breadcrumb">
        <li><a href="index.html">Home</a></li>
        <li>My Bookings</li>
      </ul>
    </div>
  </section>

  <!-- Bookings Section -->
  <section class="bookings-section">
    <div class="container">
      <h2 class="section-title">Booking History</h2>
      
      <!-- Filters -->
      <div class="bookings-filters">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="searchInput" placeholder="Search bookings...">
        </div>
        
        <div class="filter-group">
          <select class="filter-select" id="statusFilter">
            <option value="all">All Status</option>
            <option value="upcoming">Upcoming</option>
            <option value="inprogress">In Progress</option>
            <option value="completed">Completed</option>
            <option value="cancelled">Cancelled</option>
          </select>
          
          <select class="filter-select" id="serviceFilter">
            <option value="all">All Services</option>
            <option value="Deep Cleaning">Cleaning</option>
            <option value="Plumbing">Plumbing</option>
            <option value="Electrical">Electrical</option>
            <option value="Painting">Painting</option>
            <option value="AC Repair & Service">AC Repair</option>
            <option value="Gardening & Landscaping">Gardening</option>
          </select>
          
          <select class="filter-select" id="sortFilter">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
          </select>
        </div>
      </div>
      
      <!-- Bookings List -->
      <div class="bookings-list" id="bookingsList">
        <!-- Dynamic content will be inserted here -->
      </div>
      
      <!-- Empty State -->
      <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-icon">
          <i class="fas fa-calendar-times"></i>
        </div>
        <h3 class="empty-title">No Bookings Found</h3>
        <p class="empty-desc">You don't have any bookings matching your search criteria. Try different filters or book a new service.</p>
        <a href="services.html" class="action-btn btn-primary">Browse Services</a>
      </div>

      <!-- Pagination -->
      <div style="display: flex; justify-content: center; margin-top: 40px;">
        <div style="display: flex; gap: 10px;">
          <button id="prevPage" style="padding: 10px 15px; border: 1px solid var(--border); border-radius: 8px; background: white; cursor: pointer;">Previous</button>
          <span id="pageNumbers" style="display: flex; gap: 5px;"></span>
          <button id="nextPage" style="padding: 10px 15px; border: 1px solid var(--border); border-radius: 8px; background: white; cursor: pointer;">Next</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Modals -->
  <!-- Reschedule Modal -->
  <div class="modal" id="rescheduleModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Reschedule Booking</h3>
        <button class="modal-close" onclick="closeModal('rescheduleModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Select New Date</label>
          <input type="date" id="newDate" class="form-control" min="">
        </div>
        <div class="form-group">
          <label class="form-label">Select New Time Slot</label>
          <div class="time-slots" id="rescheduleTimeSlots" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px;">
            <div class="time-slot">9:00 AM</div>
            <div class="time-slot">10:00 AM</div>
            <div class="time-slot">11:00 AM</div>
            <div class="time-slot">1:00 PM</div>
            <div class="time-slot">2:00 PM</div>
            <div class="time-slot">3:00 PM</div>
          </div>
        </div>
      </div>
      <div class="modal-actions">
        <button class="action-btn btn-outline" onclick="closeModal('rescheduleModal')">Cancel</button>
        <button class="action-btn btn-primary" onclick="confirmReschedule()">Confirm Reschedule</button>
      </div>
    </div>
  </div>

  <!-- Cancel Booking Modal -->
  <div class="modal" id="cancelModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Cancel Booking</h3>
        <button class="modal-close" onclick="closeModal('cancelModal')">&times;</button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to cancel this booking?</p>
        <div class="form-group">
          <label class="form-label">Cancellation Reason (Optional)</label>
          <select class="form-control" id="cancelReason">
            <option value="">Select a reason</option>
            <option value="schedule-conflict">Schedule conflict</option>
            <option value="found-alternative">Found alternative service</option>
            <option value="price-issue">Price issue</option>
            <option value="other">Other</option>
          </select>
        </div>
      </div>
      <div class="modal-actions">
        <button class="action-btn btn-outline" onclick="closeModal('cancelModal')">Go Back</button>
        <button class="action-btn btn-danger" onclick="confirmCancel()">Cancel Booking</button>
      </div>
    </div>
  </div>

  <!-- Rate Service Modal -->
  <div class="modal" id="rateModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Rate Service</h3>
        <button class="modal-close" onclick="closeModal('rateModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="rating-stars" id="ratingStars">
          <span class="rating-star" data-rating="1">☆</span>
          <span class="rating-star" data-rating="2">☆</span>
          <span class="rating-star" data-rating="3">☆</span>
          <span class="rating-star" data-rating="4">☆</span>
          <span class="rating-star" data-rating="5">☆</span>
        </div>
        <div class="form-group">
          <label class="form-label">Your Review</label>
          <textarea class="form-control" id="reviewText" placeholder="Share your experience..."></textarea>
        </div>
      </div>
      <div class="modal-actions">
        <button class="action-btn btn-outline" onclick="closeModal('rateModal')">Cancel</button>
        <button class="action-btn btn-primary" onclick="submitRating()">Submit Review</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-col">
        <h3>About HomeServe</h3>
        <p>Your trusted home service partner for all needs. We connect you with verified professionals for quality service.</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
      <div class="footer-col">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
          <li><a href="services.html"><i class="fas fa-chevron-right"></i> Services</a></li>
          <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
          <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>Our Services</h3>
        <ul>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Cleaning</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Plumbing</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Painting</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Electrical</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> AC Repair</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>Contact Us</h3>
        <ul>
          <li><a href="#"><i class="fas fa-map-marker-alt"></i> 123 Service Road, City</a></li>
          <li><a href="tel:+919876543210"><i class="fas fa-phone"></i> +91 98765 43210</a></li>
          <li><a href="mailto:support@homeserve.com"><i class="fas fa-envelope"></i> support@homeserve.com</a></li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2023 HomeServe. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Global variables
    let allBookings = [];
    let currentBookings = [];
    let currentPage = 1;
    const bookingsPerPage = 3;
    let currentBookingId = null;
    let currentRating = 0;

    // Mobile menu toggle
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const nav = document.querySelector('nav');
    mobileMenuBtn.addEventListener('click', () => {
      nav.classList.toggle('active');
    });

    // Load bookings on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadBookingsFromStorage();
      setupFilters();
      
      // Set minimum date for reschedule
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('newDate').min = today;
      
      // Setup modals AFTER DOM is ready
      setTimeout(setupModals, 100);
    });

    // Load bookings from localStorage
    function loadBookingsFromStorage() {
      allBookings = JSON.parse(localStorage.getItem('homeserveBookings') || '[]');
      
      // No need for sample data - show only actual user bookings
      // If empty, show empty state
      
      currentBookings = [...allBookings];
      displayBookings();
      updatePagination();
    }

    // Setup filter functionality
    function setupFilters() {
      document.getElementById('searchInput').addEventListener('keyup', filterBookings);
      document.getElementById('statusFilter').addEventListener('change', filterBookings);
      document.getElementById('serviceFilter').addEventListener('change', filterBookings);
      document.getElementById('sortFilter').addEventListener('change', filterBookings);
      document.getElementById('prevPage').addEventListener('click', () => changePage(-1));
      document.getElementById('nextPage').addEventListener('click', () => changePage(1));
    }

    // Setup modal functionality
    function setupModals() {
      // Initialize time slots
      initializeTimeSlots();
      
      // Rating stars
      const ratingStars = document.querySelectorAll('#ratingStars .rating-star');
      ratingStars.forEach(star => {
        star.addEventListener('click', function() {
          const rating = parseInt(this.getAttribute('data-rating'));
          setRating(rating);
        });
        
        star.addEventListener('mouseover', function() {
          const rating = parseInt(this.getAttribute('data-rating'));
          highlightStars(rating);
        });
      });
      
      document.getElementById('ratingStars').addEventListener('mouseleave', function() {
        highlightStars(currentRating);
      });
    }

    // Initialize time slots for reschedule modal
    function initializeTimeSlots() {
      const timeSlotsContainer = document.getElementById('rescheduleTimeSlots');
      if (!timeSlotsContainer) return;
      
      // Clear existing slots
      timeSlotsContainer.innerHTML = '';
      
      // Create time slots
      const timeSlots = ['9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'];
      
      timeSlots.forEach(time => {
        const timeSlot = document.createElement('div');
        timeSlot.className = 'time-slot';
        timeSlot.textContent = time;
        timeSlot.style.cssText = 'padding: 10px; border: 1px solid var(--border); border-radius: 8px; text-align: center; cursor: pointer; transition: all 0.3s; margin: 5px;';
        
        timeSlot.addEventListener('click', function() {
          // Remove selected class from all time slots
          document.querySelectorAll('#rescheduleTimeSlots .time-slot').forEach(slot => {
            slot.classList.remove('selected');
            slot.style.backgroundColor = '';
            slot.style.color = '';
            slot.style.borderColor = 'var(--border)';
          });
          
          // Add selected class to clicked time slot
          this.classList.add('selected');
          this.style.backgroundColor = 'var(--primary)';
          this.style.color = 'white';
          this.style.borderColor = 'var(--primary)';
        });
        
        timeSlot.addEventListener('mouseover', function() {
          if (!this.classList.contains('selected')) {
            this.style.borderColor = 'var(--primary)';
          }
        });
        
        timeSlot.addEventListener('mouseout', function() {
          if (!this.classList.contains('selected')) {
            this.style.borderColor = 'var(--border)';
          }
        });
        
        timeSlotsContainer.appendChild(timeSlot);
      });
    }

    // Filter bookings based on criteria
    function filterBookings() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const statusFilter = document.getElementById('statusFilter').value;
      const serviceFilter = document.getElementById('serviceFilter').value;
      const sortFilter = document.getElementById('sortFilter').value;
      
      currentBookings = allBookings.filter(booking => {
        // Search filter
        const matchesSearch = searchTerm === '' || 
          booking.service.toLowerCase().includes(searchTerm) ||
          booking.id.toLowerCase().includes(searchTerm) ||
          (booking.customer && booking.customer.firstName && booking.customer.firstName.toLowerCase().includes(searchTerm)) ||
          (booking.customer && booking.customer.lastName && booking.customer.lastName.toLowerCase().includes(searchTerm));
        
        // Status filter
        const matchesStatus = statusFilter === 'all' || booking.status === statusFilter;
        
        // Service filter
        const matchesService = serviceFilter === 'all' || booking.service === serviceFilter;
        
        return matchesSearch && matchesStatus && matchesService;
      });
      
      // Sort bookings
      currentBookings.sort((a, b) => {
        const dateA = new Date(a.bookingDate || a.date);
        const dateB = new Date(b.bookingDate || b.date);
        return sortFilter === 'newest' ? dateB - dateA : dateA - dateB;
      });
      
      currentPage = 1;
      displayBookings();
      updatePagination();
    }

    // Display bookings
    function displayBookings() {
      const bookingsList = document.getElementById('bookingsList');
      const emptyState = document.getElementById('emptyState');
      
      bookingsList.innerHTML = '';
      
      if (currentBookings.length === 0) {
        emptyState.style.display = 'block';
        bookingsList.style.display = 'none';
        return;
      }
      
      emptyState.style.display = 'none';
      bookingsList.style.display = 'flex';
      
      // Calculate start and end index for current page
      const startIndex = (currentPage - 1) * bookingsPerPage;
      const endIndex = startIndex + bookingsPerPage;
      const pageBookings = currentBookings.slice(startIndex, endIndex);
      
      pageBookings.forEach(booking => {
        const bookingDate = new Date(booking.date);
        const formattedDate = bookingDate.toLocaleDateString('en-US', {
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        
        // Determine service duration based on service type
        let duration = '2-3 hours';
        if (booking.service && (booking.service.includes('Cleaning') || booking.service.includes('Painting'))) {
          duration = '3-4 hours';
        } else if (booking.service && (booking.service.includes('Plumbing') || booking.service.includes('Electrical'))) {
          duration = '2 hours';
        } else if (booking.service && booking.service.includes('AC')) {
          duration = '2.5 hours';
        }
        
        // Get price - handle different formats
        let price = '0';
        if (booking.details && booking.details.price) {
          price = booking.details.price.toString().replace('From ₹', '').replace('₹', '').replace('$', '');
        } else if (booking.price) {
          price = booking.price.toString().replace('From ₹', '').replace('₹', '').replace('$', '');
        }
        
        // Get professional info
        const professionalName = booking.professional ? booking.professional.name : 'Assigned Professional';
        const professionalRating = booking.professional ? booking.professional.rating : '4.5';
        const professionalReviews = booking.professional ? booking.professional.reviews : '0';
        
        // Get customer info safely
        const customerFirstName = booking.customer ? booking.customer.firstName : '';
        const customerLastName = booking.customer ? booking.customer.lastName : '';
        const customerEmail = booking.customer ? booking.customer.email : '';
        const customerPhone = booking.customer ? booking.customer.phone : '';
        const customerAddress = booking.customer ? booking.customer.address : '';
        
        // Get property size
        const propertySize = booking.details ? booking.details.propertySize : 'Not specified';
        
        const bookingCard = document.createElement('div');
        bookingCard.className = 'booking-card';
        bookingCard.innerHTML = `
          <div class="booking-header">
            <div class="booking-info">
              <h3>${booking.service || 'Service'}</h3>
              <div class="booking-id">Booking ID: ${booking.id || 'N/A'}</div>
            </div>
            <div class="booking-status status-${booking.status || 'upcoming'}">${getStatusText(booking.status || 'upcoming')}</div>
          </div>
          
          <div class="booking-details">
            <div class="detail-item">
              <span class="detail-label">Date & Time</span>
              <span class="detail-value">${formattedDate} at ${booking.time || 'Not specified'}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Service Duration</span>
              <span class="detail-value">${duration}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Total Amount</span>
              <span class="detail-value">₹${price}</span>
            </div>
            
            <div class="detail-item">
              <span class="detail-label">Professional</span>
              <div class="professional-info">
                <div class="professional-avatar">
                  <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(professionalName)}&background=2563eb&color=fff" alt="${professionalName}">
                </div>
                <div>
                  <div class="professional-name">${professionalName}</div>
                  <div class="professional-rating">
                    <i class="fas fa-star"></i>
                    <span>${professionalRating} (${professionalReviews} reviews)</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="booking-actions">
            ${(booking.status === 'upcoming' || !booking.status) ? `
              <button class="action-btn btn-primary" onclick="openRescheduleModal('${booking.id}')">Reschedule</button>
              <button class="action-btn btn-outline" onclick="viewBookingDetails('${booking.id}')">View Details</button>
              <button class="action-btn btn-danger" onclick="openCancelModal('${booking.id}')">Cancel Booking</button>
            ` : ''}
            
            ${booking.status === 'inprogress' ? `
              <button class="action-btn btn-outline" onclick="trackProfessional('${booking.id}')">Track Professional</button>
              <button class="action-btn btn-primary" onclick="contactProfessional('${booking.id}')">Contact</button>
            ` : ''}
            
            ${booking.status === 'completed' ? `
              <button class="action-btn btn-outline" onclick="viewBookingDetails('${booking.id}')">View Details</button>
              <button class="action-btn btn-primary" onclick="bookAgain('${booking.id}')">Book Again</button>
              <button class="action-btn btn-primary" onclick="openRateModal('${booking.id}')">Rate Service</button>
            ` : ''}
            
            ${booking.status === 'cancelled' ? `
              <button class="action-btn btn-outline" onclick="viewBookingDetails('${booking.id}')">View Details</button>
              <button class="action-btn btn-primary" onclick="bookAgain('${booking.id}')">Book Again</button>
            ` : ''}
          </div>
        `;
        
        bookingsList.appendChild(bookingCard);
      });
      
      // Update status colors
      updateStatusColors();
    }

    // Get status text
    function getStatusText(status) {
      const statusMap = {
        'upcoming': 'Upcoming',
        'inprogress': 'In Progress',
        'completed': 'Completed',
        'cancelled': 'Cancelled'
      };
      return statusMap[status] || 'Upcoming';
    }

    // Update status colors
    function updateStatusColors() {
      const statusElements = document.querySelectorAll('.booking-status');
      statusElements.forEach(status => {
        if (status.classList.contains('status-upcoming')) {
          status.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
          status.style.color = '#2563eb';
        } else if (status.classList.contains('status-inprogress')) {
          status.style.backgroundColor = 'rgba(245, 158, 11, 0.1)';
          status.style.color = '#f59e0b';
        } else if (status.classList.contains('status-completed')) {
          status.style.backgroundColor = 'rgba(16, 185, 129, 0.1)';
          status.style.color = '#10b981';
        } else if (status.classList.contains('status-cancelled')) {
          status.style.backgroundColor = 'rgba(239, 68, 68, 0.1)';
          status.style.color = '#ef4444';
        }
      });
    }

    // Update pagination
    function updatePagination() {
      const totalPages = Math.ceil(currentBookings.length / bookingsPerPage);
      const pageNumbers = document.getElementById('pageNumbers');
      const prevBtn = document.getElementById('prevPage');
      const nextBtn = document.getElementById('nextPage');
      
      pageNumbers.innerHTML = '';
      
      for (let i = 1; i <= totalPages; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.textContent = i;
        pageBtn.style.padding = '10px 15px';
        pageBtn.style.border = i === currentPage ? '1px solid var(--primary)' : '1px solid var(--border)';
        pageBtn.style.borderRadius = '8px';
        pageBtn.style.background = i === currentPage ? 'var(--primary)' : 'white';
        pageBtn.style.color = i === currentPage ? 'white' : 'var(--text)';
        pageBtn.style.cursor = 'pointer';
        pageBtn.addEventListener('click', () => {
          currentPage = i;
          displayBookings();
          updatePagination();
        });
        pageNumbers.appendChild(pageBtn);
      }
      
      prevBtn.disabled = currentPage === 1;
      nextBtn.disabled = currentPage === totalPages || totalPages === 0;
    }

    // Change page
    function changePage(direction) {
      const totalPages = Math.ceil(currentBookings.length / bookingsPerPage);
      const newPage = currentPage + direction;
      
      if (newPage >= 1 && newPage <= totalPages) {
        currentPage = newPage;
        displayBookings();
        updatePagination();
      }
    }

    // Modal functions
    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'flex';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // Action functions
    function openRescheduleModal(bookingId) {
      currentBookingId = bookingId;
      
      // Find the booking
      const booking = allBookings.find(b => b.id === bookingId);
      if (booking) {
        // Set current date as default
        document.getElementById('newDate').value = booking.date;
        
        // Clear previous selections
        document.querySelectorAll('#rescheduleTimeSlots .time-slot').forEach(slot => {
          slot.classList.remove('selected');
          slot.style.backgroundColor = '';
          slot.style.color = '';
          slot.style.borderColor = 'var(--border)';
        });
        
        // Select the current time slot
        const timeSlots = document.querySelectorAll('#rescheduleTimeSlots .time-slot');
        timeSlots.forEach(slot => {
          if (slot.textContent === booking.time) {
            slot.classList.add('selected');
            slot.style.backgroundColor = 'var(--primary)';
            slot.style.color = 'white';
            slot.style.borderColor = 'var(--primary)';
          }
        });
      } else {
        // Set default date (tomorrow)
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('newDate').value = tomorrow.toISOString().split('T')[0];
        
        // Select default time (10:00 AM)
        document.querySelectorAll('#rescheduleTimeSlots .time-slot').forEach(slot => {
          slot.classList.remove('selected');
          slot.style.backgroundColor = '';
          slot.style.color = '';
          slot.style.borderColor = 'var(--border)';
        });
        
        const timeSlots = document.querySelectorAll('#rescheduleTimeSlots .time-slot');
        if (timeSlots.length > 1) {
          timeSlots[1].classList.add('selected'); // 10:00 AM
          timeSlots[1].style.backgroundColor = 'var(--primary)';
          timeSlots[1].style.color = 'white';
          timeSlots[1].style.borderColor = 'var(--primary)';
        }
      }
      
      openModal('rescheduleModal');
    }

    function openCancelModal(bookingId) {
      currentBookingId = bookingId;
      openModal('cancelModal');
    }

    function openRateModal(bookingId) {
      currentBookingId = bookingId;
      currentRating = 0;
      resetRatingStars();
      openModal('rateModal');
    }

    function confirmReschedule() {
      const newDate = document.getElementById('newDate').value;
      const selectedTimeSlot = document.querySelector('#rescheduleTimeSlots .time-slot.selected');
      
      if (!newDate) {
        alert('Please select a date');
        return;
      }
      
      if (!selectedTimeSlot) {
        alert('Please select a time slot');
        return;
      }
      
      const newTime = selectedTimeSlot.textContent;
      
      // Update booking in localStorage
      const bookingIndex = allBookings.findIndex(b => b.id === currentBookingId);
      if (bookingIndex !== -1) {
        allBookings[bookingIndex].date = newDate;
        allBookings[bookingIndex].time = newTime;
        localStorage.setItem('homeserveBookings', JSON.stringify(allBookings));
        
        // Refresh display
        filterBookings();
        closeModal('rescheduleModal');
        alert('Booking rescheduled successfully!');
      }
    }

    function confirmCancel() {
      const cancelReason = document.getElementById('cancelReason').value || 'No reason provided';
      
      // Update booking in localStorage
      const bookingIndex = allBookings.findIndex(b => b.id === currentBookingId);
      if (bookingIndex !== -1) {
        allBookings[bookingIndex].status = 'cancelled';
        allBookings[bookingIndex].cancellationReason = cancelReason;
        localStorage.setItem('homeserveBookings', JSON.stringify(allBookings));
        
        // Refresh display
        filterBookings();
        closeModal('cancelModal');
        alert('Booking cancelled successfully!');
      }
    }

    // Rating functions
    function setRating(rating) {
      currentRating = rating;
      highlightStars(rating);
    }

    function highlightStars(rating) {
      const stars = document.querySelectorAll('#ratingStars .rating-star');
      stars.forEach((star, index) => {
        if (index < rating) {
          star.textContent = '★';
          star.classList.add('active');
        } else {
          star.textContent = '☆';
          star.classList.remove('active');
        }
      });
    }

    function resetRatingStars() {
      const stars = document.querySelectorAll('#ratingStars .rating-star');
      stars.forEach(star => {
        star.textContent = '☆';
        star.classList.remove('active');
      });
    }

    function submitRating() {
      if (currentRating === 0) {
        alert('Please select a rating');
        return;
      }
      
      const reviewText = document.getElementById('reviewText').value;
      
      // Update booking in localStorage
      const bookingIndex = allBookings.findIndex(b => b.id === currentBookingId);
      if (bookingIndex !== -1) {
        allBookings[bookingIndex].rating = {
          stars: currentRating,
          review: reviewText,
          date: new Date().toISOString()
        };
        localStorage.setItem('homeserveBookings', JSON.stringify(allBookings));
        
        // Refresh display
        filterBookings();
        closeModal('rateModal');
        alert('Thank you for your review!');
      }
    }

    // Other action functions
    function viewBookingDetails(bookingId) {
      const booking = allBookings.find(b => b.id === bookingId);
      if (booking) {
        const details = `
Service: ${booking.service || 'Not specified'}
Booking ID: ${booking.id || 'N/A'}
Date: ${new Date(booking.date).toLocaleDateString()}
Time: ${booking.time || 'Not specified'}
Customer Name: ${booking.customer ? booking.customer.firstName + ' ' + booking.customer.lastName : 'Not specified'}
Email: ${booking.customer ? booking.customer.email : 'Not specified'}
Phone: ${booking.customer ? booking.customer.phone : 'Not specified'}
Address: ${booking.customer ? booking.customer.address : 'Not specified'}
Property Size: ${booking.details ? booking.details.propertySize : 'Not specified'}
Special Instructions: ${booking.details ? booking.details.specialInstructions : 'None'}
Amount: ₹${booking.details ? booking.details.price : '0'}
Status: ${getStatusText(booking.status || 'upcoming')}
Professional: ${booking.professional ? booking.professional.name : 'Not assigned'}
Rating: ${booking.professional ? booking.professional.rating + ' (' + booking.professional.reviews + ' reviews)' : 'Not rated'}
        `;
        alert(details);
      }
    }

    function trackProfessional(bookingId) {
      alert('Professional tracking feature would show real-time location here.\nThis is a demo feature.');
    }

    function contactProfessional(bookingId) {
      const booking = allBookings.find(b => b.id === bookingId);
      if (booking) {
        alert(`Contact information for ${booking.professional ? booking.professional.name : 'professional'}:\nPhone: +91 98765 43210\nEmail: professional@homeserve.com`);
      }
    }

    function bookAgain(bookingId) {
      const booking = allBookings.find(b => b.id === bookingId);
      if (booking) {
        // Redirect to booking page with service pre-selected
        window.location.href = `booking.html?service=${encodeURIComponent(booking.service)}`;
      }
    }
  </script>
</body>
</html>